<mat-expansion-panel (opened)="setPanelState(true)"
                     (closed)="setPanelState(false)">
  <mat-expansion-panel-header>
    <mat-panel-title *ngIf="!isEditMode">
      {{segmentedModel.title}}
    </mat-panel-title>
    <mat-panel-description *ngIf="!isEditMode">
      Size: {{segmentedModel.text.length}}
    </mat-panel-description>
  </mat-expansion-panel-header>
  <p *ngIf="!isEditMode">{{segmentedModel.text | textShortener}}</p>
  <mat-action-row>
    <button type="button" mat-button color="warn" (click)="removeSegmentedItem()">Remove Segment</button>
    <button type="button" (click)="changeEditMode()" mat-button
            color="accent">{{isEditMode ? "Cancel" : "Edit"}}</button>
  </mat-action-row>
  <app-edit-content-segment
    *ngIf="isEditMode"
    [itemModel]="segmentedModel"
    (updateSegmentedItemEvent)="updateSegmentedItem($event)"
    (removeSegmentedItemEvent)="removeSegmentedItem()"></app-edit-content-segment>
</mat-expansion-panel>
